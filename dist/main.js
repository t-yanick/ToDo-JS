(()=>{"use strict";const e=(()=>{const e={fetchLocalStorage:e=>{let t=[];return t=null!==localStorage.getItem(e)&&"undefined"!==localStorage.getItem(e)?JSON.parse(localStorage.getItem):"Projects"===e?["Default Project"]:[],t},saveLocalStorage:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},urlDashedName:function(e){return e.split(/\s+/).join("-")},urlUndasedName:function(e){return e.split(/-+/).join(" ")}},t=t=>{if(!0===window.confirm("Are you sure you want to delete this project")){const o=e.fetchLocalStorage("Projects"),r=e.fetchLocalStorage("Tasks"),a=t.target.previousElementSibling.innerText;o.splice(o.indexOf(a),1);const c=r.filter((e=>e.project!==a));e.saveLocalStorage("Projects",o),e.saveLocalStorage("Tasks",c),window.location.reload()}};return{addNewProject:o=>{if(""===o)return alert("You must have a name");if(e.fetchLocalStorage("Projects").includes(o))return alert("Project name is taken, try another");const r=e.urlDashedName(o);Dom.addProjectCardDom(o,r),Dom.addOptionForSelect(o,r,"list"),Dom.addOptionForSelect(o,r,"view");const a=e.fetchLocalStorage("Projects");a.push(o),e.saveLocalStorage("Projects",a),document.querySelectorAll(".btn-delete-project").forEach((e=>e.addEventListener("click",t)))},getProjectsList:()=>{let t=[];return null!==e.fetchLocalStorage("Projects")?t=e.fetchLocalStorage("Projects"):(t=["Default Project"],localStorage.setItem("Projects",JSON.stringify(t))),t},spreadProjectsListToView:t=>{t.forEach((t=>{const o=e.urlDashedName(t);Dom.addProjectCardDom(t,o),Dom.addOptionForSelect(t,o,"list"),Dom.addOptionForSelect(t,o,"view")}))},deleteProject:t}})(),t=e.getProjectList();e.spreadProjectListToView(t),(void 0).loadTasks()})();